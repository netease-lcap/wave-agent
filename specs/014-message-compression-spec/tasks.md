# Message Compression Tasks

- [x] Research existing compression logic in `agent-sdk` and `code`
- [x] Document history compression mechanism in `AIManager`
- [x] Document input compression mechanism in `InputManager`
- [x] Define data models for `compress` blocks and `longTextMap`
- [ ] Add unit tests for `getMessagesToCompress` with various history lengths
- [ ] Add unit tests for `InputManager` paste handling and expansion
- [ ] Investigate if image metadata should be preserved in summaries
- [ ] Make input compression threshold configurable
